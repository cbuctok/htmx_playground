{% extends "base.html" %}

{% block title %}Branding & Theme - Admin - {{ super() }}{% endblock %}

{% block content %}
<div class="page-header">
    <a href="/admin" class="btn btn-link">&larr; Back to Admin</a>
    <h2>Branding & Theme Settings</h2>
</div>

<div class="form-container">
    <div id="branding-messages"></div>

    <form
        method="post"
        action="/admin/branding"
        hx-post="/admin/branding"
        hx-target="#branding-messages"
        hx-swap="innerHTML"
        class="crud-form"
    >
        <section class="form-section">
            <h3>Application Branding</h3>

            <div class="form-group">
                <label for="app_name">Application Name</label>
                <input
                    type="text"
                    id="app_name"
                    name="app_name"
                    value="{{ config.app_name }}"
                >
            </div>

            <div class="form-group">
                <label for="logo_path">Logo Path (URL)</label>
                <input
                    type="text"
                    id="logo_path"
                    name="logo_path"
                    value="{{ config.logo_path }}"
                    placeholder="/static/logo.png or https://..."
                >
            </div>
        </section>

        <section class="form-section">
            <h3>Color Palette</h3>

            <div class="color-grid">
                <div class="form-group">
                    <label for="primary_color">Primary Color</label>
                    <div class="color-input">
                        <input
                            type="color"
                            id="primary_color"
                            name="primary_color"
                            value="{{ config.primary_color }}"
                        >
                        <input type="text" value="{{ config.primary_color }}" disabled class="color-value">
                    </div>
                </div>

                <div class="form-group">
                    <label for="secondary_color">Secondary Color</label>
                    <div class="color-input">
                        <input
                            type="color"
                            id="secondary_color"
                            name="secondary_color"
                            value="{{ config.secondary_color }}"
                        >
                        <input type="text" value="{{ config.secondary_color }}" disabled class="color-value">
                    </div>
                </div>

                <div class="form-group">
                    <label for="background_color">Background Color</label>
                    <div class="color-input">
                        <input
                            type="color"
                            id="background_color"
                            name="background_color"
                            value="{{ config.background_color }}"
                        >
                        <input type="text" value="{{ config.background_color }}" disabled class="color-value">
                    </div>
                </div>

                <div class="form-group">
                    <label for="accent_color">Accent Color</label>
                    <div class="color-input">
                        <input
                            type="color"
                            id="accent_color"
                            name="accent_color"
                            value="{{ config.accent_color }}"
                        >
                        <input type="text" value="{{ config.accent_color }}" disabled class="color-value">
                    </div>
                </div>
            </div>
        </section>

        <section class="form-section">
            <h3>UI Preferences</h3>

            <div class="form-group">
                <label for="theme">Theme</label>
                <select id="theme" name="theme">
                    <option value="light" {% if prefs.theme == 'light' %}selected{% endif %}>Light</option>
                    <option value="dark" {% if prefs.theme == 'dark' %}selected{% endif %}>Dark</option>
                </select>
            </div>

            <div class="form-group">
                <label for="date_format">Date Format</label>
                <input
                    type="text"
                    id="date_format"
                    name="date_format"
                    value="{{ prefs.date_format }}"
                    placeholder="%Y-%m-%d %H:%M:%S"
                >
            </div>

            <div class="form-group">
                <label for="page_size">Page Size</label>
                <select id="page_size" name="page_size">
                    <option value="10" {% if prefs.page_size == 10 %}selected{% endif %}>10</option>
                    <option value="25" {% if prefs.page_size == 25 %}selected{% endif %}>25</option>
                    <option value="50" {% if prefs.page_size == 50 %}selected{% endif %}>50</option>
                    <option value="100" {% if prefs.page_size == 100 %}selected{% endif %}>100</option>
                </select>
            </div>
        </section>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save Settings</button>
        </div>
    </form>
</div>
{% endblock %}
